// This file is automatically generated by /Website/scripts/build.js
// To update it, run `deno task build`.

const String HTML = "<!DOCTYPE html><html>	<head>        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover\">			</head>	<body>		<input id=\"search\" type=\"search\" placeholder=\"Search\">		<main>			<div id=\"drinkSelector\"></div>			<button id=\"customizeButton\" class=\"text-button\">Customize</button>			<button id=\"mainMixButton\" class=\"mix-button\">Mix!</button>		</main>		<dialog id=\"drinkCustomizationDialog\">			<form method=\"dialog\">				<h1 id=\"drinkCustomizationTitle\"></h1>				<ul id=\"drinkCustomizationActionsList\"></ul>				<div id=\"addIngredientContainer\">					<div class=\"add-button-icon\"></div>				</div>				<div class=\"button-section\">					<button class=\"text-button\" value=\"cancel\">Cancel</button>					<button class=\"mix-button\" value=\"mix\">Mix!</button>				</div>			</form>		</dialog>		<dialog id=\"settingsDialog\">			<ul id=\"settingsList\"></ul>			<div class=\"button-section\">				<button class=\"text-button\">Done</button>			</div>	</dialog>		<button id=\"settingsButton\"></button>		<svg height=\"0\" style=\"position: absolute;\" xmlns=\"http://www.w3.org/2000/svg\">			<filter id=\"svgNeon\" x=\"-100%\" y=\"-100%\" width=\"300%\" height=\"300%\">				<feColorMatrix type=\"saturate\" in=\"SourceGraphic\" values=\"25\" result=\"blur1\"/>				<feGaussianBlur in=\"blur1\" stdDeviation=\"3\" result=\"blur1\"/>				<feComponentTransfer in=\"blur1\" result=\"blur1\">					<feFuncR type=\"linear\" slope=\"1\" intercept=\"0\"></feFuncR>					<feFuncG type=\"linear\" slope=\"1\" intercept=\"0\"></feFuncG>					<feFuncB type=\"linear\" slope=\"1\" intercept=\"0\"></feFuncB>					<feFuncA type=\"linear\" slope=\"4\" intercept=\"0\"></feFuncA>				</feComponentTransfer>				<feColorMatrix type=\"saturate\" in=\"blur1\" values=\"200\" result=\"blur2\"/>				<feGaussianBlur in=\"blur2\" stdDeviation=\"30\" result=\"blur2\"/>				<feComponentTransfer in=\"blur2\" result=\"blur2\">					<feFuncR type=\"linear\" slope=\"1\" intercept=\"0\"></feFuncR>					<feFuncG type=\"linear\" slope=\"1\" intercept=\"0\"></feFuncG>					<feFuncB type=\"linear\" slope=\"1\" intercept=\"0\"></feFuncB>					<feFuncA type=\"linear\" slope=\"2\" intercept=\"0\"></feFuncA>				</feComponentTransfer>				<feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"1\" result=\"blur3\"/>				<feBlend in=\"blur1\" in2=\"blur2\" mode=\"lighten\" result=\"final\"/>				<feBlend in=\"final\" in2=\"blur3\" mode=\"lighten\" result=\"final\"/>			</filter>		</svg>		<template id=\"settings\"><svg viewBox=\"0 0 50 50\" xmlns=\"http://www.w3.org/2000/svg\" id=\"settingsBtn\">  <defs>    <mask id=\"mask\">      <g>        <path d=\"M10 31.5 L2 29 L2 21 L10 18.5 L6 11 L11 6 L18.5 10 L21 2 L29 2 L31.5 10 L39 6 L44 11 L40 18.5 L48 21 L48 29 L40 31.5 L44 39 L39 44 L31.5 40 L29 48 L21 48 L18.5 40 L11 44 L6 39\" fill=\"white\"/>        <circle cx=\"25\" cy=\"25\" r=\"18\" fill=\"white\"/>        <circle cx=\"25\" cy=\"25\" r=\"10\" fill=\"black\"/>      </g>    </mask>  </defs>  <rect x=\"0\" y=\"0\" width=\"100\" height=\"100\" mask=\"url(#mask)\" style=\"fill:white\"/></svg></template><template id=\"drink1\"><svg viewBox=\"0 0 150 200\" xmlns=\"http://www.w3.org/2000/svg\">  <style>    .str {      fill: none;      stroke-linecap: round;      stroke-linejoin: round;      stroke-width: 4px;    }  </style>  <path class=\"str\" style=\"stroke: rgb(217, 255, 221);\" d=\"M 31.114 42.07 L 79.234 26.62 L 31.923 14.356 L 4.161 52.545 L 23.548 44.896 M 45.944 56.33 L 42.539 47.399\"/>  <polygon class=\"str\" style=\"stroke: rgb(253, 255, 198);\" points=\"73.929 109.138 43.339 84.603 105.121 84.731\"/>  <polyline class=\"str\" style=\"stroke: rgb(255, 195, 253);\" points=\"104.588 57.389 121.607 14.311 143.917 21.418\"/>  <path class=\"str\" style=\"stroke: rgb(255, 192, 192);\" d=\"M 79.335 159.473 L 97.323 175.552 C 83.574 182.072 58.682 181.725 48.236 175.276 L 74.443 154.486 L 74.749 119.535 L 145.739 63.29 L 7.856 62.794 L 66.833 115.078 M 61.585 173.153 L 73.135 164.862\"/></svg></template><template id=\"drink3\"><svg viewBox=\"0 0 150 200\" xmlns=\"http://www.w3.org/2000/svg\">  <style>    .str {      fill: none;      stroke-linecap: round;      stroke-linejoin: round;      stroke-width: 4px;    }  </style>  <path style=\"stroke: rgb(255, 192, 192);\" d=\"M 107.784 165.533 C 107.784 165.533 107.706 170.445 107.789 174.016 C 107.876 177.791 103.462 180.598 98.579 180.598 C 94.104 180.598 57.451 180.549 52.48 180.549 C 46.886 180.549 43.392 176.56 43.392 173.103 C 43.392 169.568 43.401 159.349 43.401 159.349 L 108.166 159.226 L 108.158 38.578 L 43.086 38.536 L 43.097 151.648\" class=\"str\"/>  <rect x=\"58.176\" y=\"114.147\" width=\"18.212\" height=\"18.212\" style=\"stroke: rgb(142, 224, 255);\" transform=\"matrix(0.904589, 0.426285, -0.426285, 0.904589, 59.258198, -0.548277)\" class=\"str\"/>  <rect x=\"58.176\" y=\"114.147\" width=\"18.212\" height=\"18.212\" style=\"stroke: rgb(142, 224, 255);\" transform=\"matrix(0.973991, -0.226585, 0.226585, 0.973991, -6.194349, 3.595434)\" class=\"str\"/>  <polyline class=\"str\" style=\"stroke: rgb(255, 195, 253);\" points=\"98.43 32.472 101.528 21.307 124.124 41.403\"/>  <polyline class=\"str\" style=\"stroke: rgb(255, 195, 253);\" points=\"79.775 36.47 91.23 -8.231\" transform=\"matrix(1, 0, 0, 1, 3.457837, 55.321399)\"/>  <path style=\"stroke: rgb(217, 255, 221);\" d=\"M 40.122 34.936 C 40.122 34.936 37.23 42.044 27.351 46.668 C 17.472 51.292 6.73 49.346 6.706 49.346 C 6.682 49.346 11.964 36.944 20.661 33.271 C 29.358 29.598 41.438 29.289 41.438 29.289 C 41.438 29.289 24.466 28.377 15.349 22.269 C 6.232 16.161 6.711 5.661 6.711 5.661 C 6.711 5.661 20.542 6.137 26.973 11.322 C 33.404 16.507 39.39 23.087 39.39 23.087\" class=\"str\"/>  <path style=\"stroke: rgb(253, 255, 198);\" d=\"M 43.336 15.68 C 43.336 15.68 51.393 13.402 57.935 20.709 C 64.477 28.016 64.499 34.29 64.499 34.29\" class=\"str\"/></svg></template><template id=\"drink2\"><svg viewBox=\"0 0 150 200\" xmlns=\"http://www.w3.org/2000/svg\">  <style>    .str {      fill: none;      stroke-linecap: round;      stroke-linejoin: round;      stroke-width: 4px;    }  </style>  <path style=\"stroke: rgb(255, 195, 253);\" d=\"M 39.265 39.104 C 58.976 74.268 34.365 91.872 34.367 114.814 C 34.369 137.756 54.093 148.037 73.01 147.761 C 91.927 147.485 110.276 143.357 110.575 116.148 C 110.874 88.939 90.526 77.482 109.486 39.724\" class=\"str\"/>  <path style=\"stroke: rgb(255, 195, 253);\" d=\"M 54.175 63.566 L 94.832 63.69\" class=\"str\"/>  <ellipse style=\"stroke: rgb(217, 255, 221);\" cx=\"-43.89\" cy=\"27.582\" rx=\"8.615\" ry=\"8.615\" class=\"str\"/>  <path class=\"str\" style=\"stroke: rgb(253, 255, 198);\" d=\"M -19.085 60.277 L -33.922 38.897 M -52.764 15.71 L -59.547 8.082\"/>  <ellipse style=\"stroke: rgb(255, 195, 253);\" cx=\"77.113\" cy=\"130.86\" rx=\"8.615\" ry=\"8.615\" class=\"str\"/>  <ellipse style=\"stroke: rgb(255, 195, 253);\" cx=\"92.338\" cy=\"119.448\" rx=\"3.986\" ry=\"3.986\" class=\"str\"/>  <ellipse style=\"stroke: rgb(255, 195, 253);\" cx=\"82.698\" cy=\"104.607\" rx=\"3.986\" ry=\"3.986\" class=\"str\"/>  <path style=\"stroke: rgb(255, 192, 192);\" d=\"M 66.852 153.111 L 67.017 160.654 C 67.017 160.654 62.426 161.079 62.435 166.663 C 62.444 172.247 67.721 172.302 67.721 172.302 C 67.721 172.302 67.599 180.748 67.63 180.778 C 67.661 180.808 37.834 182.097 37.81 188.519 L 105.86 188.975 C 106.139 181.55 76.623 181.214 76.623 181.214 L 76.403 172.425 C 76.403 172.425 81.981 171.385 81.972 166.173 C 81.963 160.961 76.278 160.277 76.278 160.277 L 76.193 153.266\" class=\"str\"/>  <path style=\"stroke: rgb(253, 255, 198);\" d=\"M 100.228 45.738 L 97.837 18.689 C 97.837 18.689 109.836 13.045 119.728 19.59 C 129.62 26.135 132.45 33.753 132.45 33.753 L 114.723 41.735\" class=\"str\"/>  <polyline class=\"str\" style=\"stroke: rgb(217, 255, 221);\" points=\"181.89 -2.058 156.109 -45.494 141.541 -24.67\" transform=\"matrix(1, 0, 0, 1, -122.057997, 59.851576)\"/></svg></template><template id=\"customDrink\"><svg viewBox=\"0 0 150 150\" xmlns=\"http://www.w3.org/2000/svg\">  <style>    .str {      fill: none;      stroke-linecap: round;      stroke-linejoin: round;      stroke-width: 4px;    }  </style>  <ellipse style=\"stroke: rgb(142, 224, 255);\" cx=\"75\" cy=\"75\" rx=\"57.502\" ry=\"57.502\" class=\"str\"/>  <polyline style=\"stroke: rgb(142, 224, 255);\" points=\"64.038 42.114 85.962 42.114 85.962 64.038 107.886 64.038 107.886 85.962 85.962 85.962 85.962 107.886 64.038 107.886 64.038 85.962 42.114 85.962 42.114 64.038 64.038 64.038 64.038 51.193\" class=\"str\"/></svg></template><template id=\"drink5\"><svg viewBox=\"0 0 150 200\" xmlns=\"http://www.w3.org/2000/svg\">  <style>    .str {      fill: none;      stroke-linecap: round;      stroke-linejoin: round;      stroke-width: 4px;    }  </style>  <path class=\"str\" style=\"stroke: rgb(255, 192, 192);\" d=\"M 79.335 166.631 L 97.323 182.71 C 83.574 189.23 58.682 188.883 48.236 182.434 L 74.443 161.644 L 74.746 102.775 C 110.231 102.775 144.708 80.844 145.739 63.29 L 7.856 62.794 C 7.601 78.842 39.374 102.617 66.833 102.617 M 61.585 180.311 L 73.135 172.02\"/>  <ellipse style=\"stroke: rgb(255, 192, 192);\" cx=\"87.505\" cy=\"87.619\" rx=\"7.148\" ry=\"7.148\" class=\"str\"/>  <ellipse style=\"stroke: rgb(255, 192, 192);\" cx=\"108.187\" cy=\"79.835\" rx=\"4.567\" ry=\"4.567\" class=\"str\"/>  <path style=\"stroke: rgb(253, 255, 198);\" d=\"M 49.878 91.866 L 39.706 68.093 M 35.792 57.629 L 31.931 47.378 M 20.106 17.819 L 16.008 7.094\" class=\"str\"/>  <ellipse style=\"stroke: rgb(217, 255, 221);\" cx=\"26.115\" cy=\"32.374\" rx=\"9.359\" ry=\"9.359\" class=\"str\"/></svg></template><template id=\"drink4\"><svg viewBox=\"0 0 150 200\" xmlns=\"http://www.w3.org/2000/svg\">  <style>    .str {      fill: none;      stroke-linecap: round;      stroke-linejoin: round;      stroke-width: 4px;    }  </style>  <path style=\"stroke: rgb(255, 195, 253);\" d=\"M 116.388 157.344 C 116.388 157.344 116.31 162.256 116.393 165.827 C 116.48 169.602 112.066 172.409 107.183 172.409 C 102.708 172.409 44.282 172.36 39.311 172.36 C 33.717 172.36 30.223 168.371 30.223 164.914 C 30.223 161.379 30.232 151.16 30.232 151.16 L 116.77 151.037 L 116.762 80.054 L 29.917 80.012 L 29.928 143.459\" class=\"str\"/>  <rect x=\"58.176\" y=\"114.147\" width=\"18.212\" height=\"18.212\" style=\"stroke: rgb(142, 224, 255);\" transform=\"matrix(0.978445, -0.20651, 0.20651, 0.978445, -36.590294, 24.197817)\" class=\"str\"/>  <rect x=\"58.176\" y=\"114.147\" width=\"18.212\" height=\"18.212\" style=\"stroke: rgb(142, 224, 255);\" transform=\"matrix(0.978411, 0.206671, -0.206671, 0.978411, 45.4907, -16.942724)\" class=\"str\"/>  <path style=\"stroke: rgb(253, 255, 198);\" d=\"M 104.103 74.353 L 104.159 63.552 C 104.159 63.552 116.158 57.908 126.05 64.453 C 135.942 70.998 140.051 81.717 140.051 81.717 L 121.204 88.528\" class=\"str\"/>  <path d=\"M -12.35 61.786 L 13.333 48.417 L 17.87 56.971\" style=\"stroke: rgb(217, 255, 221);\" class=\"str\" transform=\"matrix(1, 0, 0, 1, 24.22648, 16.076529)\"/></svg></template><template id=\"circleX\"><svg viewBox=\"0 0 500 500\" xmlns=\"http://www.w3.org/2000/svg\">  <defs>    <mask id=\"x\">      <rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" style=\"fill: white;\"/>      <rect x=\"225\" y=\"100\" width=\"50\" height=\"300\" style=\"fill: black;\" transform=\"rotate(45 250 250)\"/>      <rect x=\"225\" y=\"100\" width=\"50\" height=\"300\" style=\"fill: black;\" transform=\"rotate(-45 250 250)\"/>    </mask>  </defs>  <ellipse cx=\"250\" cy=\"250\" rx=\"200\" ry=\"200\" style=\"fill: white;\" mask=\"url(#x)\"/></svg></template><!--inline svgs inject position-->		<script>function lerp(e,n,t){return e+t*(n-e)}function iLerp(e,n,t){return(t-e)/(n-e)}function clamp(e,n,t){return Math.max(n,Math.min(t,e))}function clamp01(e){return clamp(e,0,1)}function mapValue(e,n,t,i,o,a=!1){let r=iLerp(e,n,o);return a&&(r=clamp01(r)),lerp(t,i,r)}function randInt(e,n){return Math.floor(randRange(e,n))}function randRange(e,n){return Math.random()*(n-e)+e}class FlickeringSvgElement{constructor(n,{warmup:t=!0,onDurationMin:i=1e4,onDurationMax:o=6e4,offDurationMin:a=20,offDurationMax:r=60}={}){if(!(n instanceof SVGElement))throw new Error(\"Assertion failed, element is not an svg node\");this.element=n,this.onDurationMin=i,this.onDurationMax=o,this.offDurationMin=a,this.offDurationMax=r,this.originalColor=n.style.stroke,this.lightOn=!0,this.isWarmingUp=t,this.warmUpDuration=randRange(1e3,2e3),this.warmUpStartTime=0,this.currentTimeout=-1,t&&(this.isWarmingUp=!0,this.warmUpStartTime=performance.now(),this.toggleLight(!1)),this.startNewTimeout()}startNewTimeout(){let n;if(this.isWarmingUp){const t=performance.now()-this.warmUpStartTime;if(t>=this.warmUpDuration)this.isWarmingUp=!1,this.toggleLight(!0),n=randRange(0,this.onDurationMax);else if(this.lightOn)n=randRange(20,60);else{const i=mapValue(0,this.warmUpDuration,500,0,t),o=mapValue(0,this.warmUpDuration,1e3,0,t);n=randRange(i,o)}}else this.lightOn?n=randRange(this.onDurationMin,this.onDurationMax):n=randRange(this.offDurationMin,this.offDurationMax);this.currentTimeout=setTimeout(()=>{this.toggleLight(),this.startNewTimeout()},n)}toggleLight(n){n!=null?this.lightOn=n:this.lightOn=!this.lightOn,this.element.style.stroke=this.lightOn?this.originalColor:\"black\"}}new DOMParser;const cachedNodes=new Map;async function getSvg(e){let n=cachedNodes.get(e);n||(n=(async()=>{{const o=document.getElementById(e);if(!(o instanceof HTMLTemplateElement))throw new Error(`Assertion failed, ${e} is not a template`);const a=o.content.children[0];if(!a)throw new Error(\"Assertion failed, template has no children\");if(!(a instanceof SVGElement))throw new Error(\"Assertion failed, not an svg node\");return a}})(),cachedNodes.set(e,n));const i=(await n).cloneNode(!0);if(!(i instanceof SVGElement))throw new Error(\"Assertion failed, not an svg node\");return i}class NeonSvgImage{constructor(n){this.id=n,this.el=document.createElement(\"div\"),this.flickeringPaths=[],this.loadNodes()}async loadNodes(){const n=await getSvg(this.id);this.el.appendChild(n);for(const t of n.querySelectorAll(\"path, line, polygon, polyline, ellipse, rect\")){const i=new FlickeringSvgElement(t);this.flickeringPaths.push(i)}}}class DrinkDisplay{#e;#i;#n;#t;#o=!0;constructor({name:n=\"\",isCustomDrink:t=!1}={}){this.el=document.createElement(\"div\"),this.el.classList.add(\"drink-display\"),this.#e=document.createElement(\"div\"),this.#e.classList.add(\"drink-icon-container\"),this.el.appendChild(this.#e);let i;t?i=\"customDrink\":i=\"drink\"+randInt(1,6),this.#i=new NeonSvgImage(i),this.#e.appendChild(this.#i.el),this.#n=document.createElement(\"h2\"),this.#n.classList.add(\"name\"),this.#n.textContent=n,this.el.appendChild(this.#n),this.#t=document.createElement(\"ul\"),this.#t.classList.add(\"ingredients-list\"),this.el.appendChild(this.#t)}get name(){return this.#n.textContent||\"\"}set name(n){this.#n.textContent=n}get available(){return this.#o}set available(n){this.#o=n,this.#e.classList.toggle(\"unavailable\",!n)}setIngredients(n){for(;this.#t.firstChild;)this.#t.removeChild(this.#t.firstChild);for(const t of n){const i=document.createElement(\"li\");i.textContent=t.name,this.#t.appendChild(i),i.classList.toggle(\"available\",t.available)}}setVisible(n){this.el.style.display=n?\"\":\"none\"}}let currentConfigData=null,lastRefreshingConfigPromise=null;async function getConfig(){if(currentConfigData||await refreshConfig(),!currentConfigData)throw new Error(\"Failed to load config data.\");return currentConfigData}async function refreshConfig(){return lastRefreshingConfigPromise=refreshConfigFn(),await lastRefreshingConfigPromise}async function refreshConfigFn(){const e=await fetch(\"/get\");if(e.ok){const n=await e.json(),t=[];for(const i of n.dispensers)t.push({typeId:i[0],x:i[1],y:i[2],z:i[3],msMl:i[4],msOff:i[5],ingredient:n.ingredients[i[6]]});currentConfigData={dispensers:t,settings:n.settings}}}async function getAvailableIngredients(){const e=await getConfig();let n=new Set;for(const t of e.dispensers)n.add(t.ingredient);return n}const ingredientNames=new Map([[\"VODKA\",\"Vodka\"],[\"PEACH_TREE\",\"Peach Tree\"],[\"ORANGE_JUICE\",\"Orange juice\"],[\"CRANBERRY_JUICE\",\"Cranberry juice\"],[\"TRIPLE_SEC\",\"Triple Sec\"],[\"LIME_JUICE\",\"Lime juice\"],[\"PINEAPPLE_JUICE\",\"Pineapple juice\"],[\"GIN\",\"Gin\"],[\"LEMONADE\",\"Lemonade\"],[\"LEMON_JUICE\",\"Lemon juice\"],[\"WHITE_RUM\",\"White rum\"],[\"RUM\",\"Rum\"],[\"TEQUILA\",\"Tequila\"],[\"SIMPLE_SYRUP\",\"Simple syrup\"],[\"TONIC_WATER\",\"Tonic water\"],[\"GINGER_ALE\",\"Ginger ale\"],[\"GRENADINE_SYRUP\",\"Grenadine syrup\"],[\"COLA\",\"Cola\"],[\"WATERMELON_VODKA\",\"Watermelon Vodka\"],[\"MILK\",\"Milk\"],[\"BAILEYS\",\"Baileys\"],[\"SPRITE\",\"Sprite\"],[\"LEMON_SODA\",\"Lemon soda\"]]),actionNames=[\"ice\",\"shake\",\"stir\",\"crushed ice\",\"blend\",\"strain\",\"2 thee spoons of sugar\",\"6 leaves of mind\"],drinksConfig=[{name:\"Sex on the Beach\",actions:[{action:\"ice\"},{ingredient:\"VODKA\",amount:45},{ingredient:\"PEACH_TREE\",amount:45},{ingredient:\"ORANGE_JUICE\",amount:135},{action:\"shake\"},{ingredient:\"CRANBERRY_JUICE\",amount:30}]},{name:\"Screwdriver\",actions:[{ingredient:\"VODKA\",amount:45},{ingredient:\"ORANGE_JUICE\",amount:120},{action:\"stir\"}]},{name:\"Cosmopolitan Classic\",actions:[{ingredient:\"VODKA\",amount:23},{ingredient:\"TRIPLE_SEC\",amount:15},{ingredient:\"CRANBERRY_JUICE\",amount:30},{ingredient:\"LIME_JUICE\",amount:15},{action:\"shake\"}]},{name:\"Bay Breeze\",actions:[{ingredient:\"VODKA\",amount:45},{ingredient:\"PINEAPPLE_JUICE\",amount:30},{ingredient:\"CRANBERRY_JUICE\",amount:30},{action:\"stir\"}]},{name:\"Hole in One\",actions:[{action:\"ice\"},{ingredient:\"VODKA\",amount:45},{ingredient:\"CRANBERRY_JUICE\",amount:90},{action:\"stir\"},{ingredient:\"ORANGE_JUICE\",amount:30}]},{name:\"Gimlet\",actions:[{action:\"crushed ice\"},{ingredient:\"GIN\",amount:90},{ingredient:\"LIME_JUICE\",amount:30},{action:\"shake\"}]},{name:\"Black widow\",actions:[{ingredient:\"VODKA\",amount:30},{ingredient:\"CRANBERRY_JUICE\",amount:30},{ingredient:\"LEMONADE\",amount:30},{action:\"stir\"}]},{name:\"Gin Sidecar\",actions:[{action:\"crushed ice\"},{ingredient:\"GIN\",amount:60},{ingredient:\"TRIPLE_SEC\",amount:30},{ingredient:\"LEMON_JUICE\",amount:30},{action:\"shake\"}]},{name:\"Little Devil\",actions:[{action:\"crushed ice\"},{ingredient:\"GIN\",amount:60},{ingredient:\"WHITE_RUM\",amount:45},{ingredient:\"TRIPLE_SEC\",amount:30},{ingredient:\"LEMON_JUICE\",amount:30},{action:\"shake\"}]},{name:\"Hoola Hoop\",actions:[{ingredient:\"GIN\",amount:45},{ingredient:\"ORANGE_JUICE\",amount:30},{ingredient:\"PINEAPPLE_JUICE\",amount:30},{action:\"stir\"}]},{name:\"Hawaiian Cocktail\",actions:[{ingredient:\"GIN\",amount:60},{ingredient:\"TRIPLE_SEC\",amount:15},{ingredient:\"PINEAPPLE_JUICE\",amount:15},{action:\"shake\"}]},{name:\"Alpine Lemonade\",actions:[{action:\"ice\"},{ingredient:\"VODKA\",amount:30},{ingredient:\"GIN\",amount:30},{ingredient:\"RUM\",amount:30},{ingredient:\"LEMONADE\",amount:60},{ingredient:\"CRANBERRY_JUICE\",amount:60},{action:\"blend\"}]},{name:\"Hula Hula\",actions:[{action:\"crushed ice\"},{ingredient:\"GIN\",amount:60},{ingredient:\"ORANGE_JUICE\",amount:30},{ingredient:\"TRIPLE_SEC\",amount:5},{action:\"stir\"},{action:\"strain\"}]},{name:\"Judge J Cocktail\",actions:[{action:\"crushed ice\"},{ingredient:\"GIN\",amount:60},{ingredient:\"WHITE_RUM\",amount:60},{ingredient:\"LEMON_JUICE\",amount:30},{ingredient:\"CRANBERRY_JUICE\",amount:10},{action:\"shake\"},{action:\"strain\"}]},{name:\"Rock Bottom\",actions:[{ingredient:\"VODKA\",amount:60},{ingredient:\"PINEAPPLE_JUICE\",amount:10},{ingredient:\"GIN\",amount:60},{ingredient:\"LEMON_JUICE\",amount:10},{ingredient:\"LIME_JUICE\",amount:10},{action:\"shake\"},{ingredient:\"TEQUILA\",amount:60}]},{name:\"Derby Daiquiri\",actions:[{action:\"crushed ice\"},{ingredient:\"WHITE_RUM\",amount:90},{ingredient:\"ORANGE_JUICE\",amount:90},{ingredient:\"LIME_JUICE\",amount:60},{ingredient:\"SIMPLE_SYRUP\",amount:30},{action:\"blend\"}]},{name:\"The Huntsman\",actions:[{ingredient:\"VODKA\",amount:45},{ingredient:\"RUM\",amount:15},{ingredient:\"LIME_JUICE\",amount:23},{ingredient:\"SIMPLE_SYRUP\",amount:8},{action:\"shake\"},{action:\"strain\"}]},{name:\"Vodka Tonic\",actions:[{action:\"ice\"},{ingredient:\"VODKA\",amount:60},{ingredient:\"TONIC_WATER\",amount:120},{action:\"stir\"}]},{name:\"Beach Bum Shake\",actions:[{action:\"crushed ice\"},{ingredient:\"TEQUILA\",amount:30},{ingredient:\"ORANGE_JUICE\",amount:60},{ingredient:\"VODKA\",amount:8},{ingredient:\"TRIPLE_SEC\",amount:5},{action:\"shake\"},{action:\"strain\"}]},{name:\"Gin Buck\",actions:[{action:\"ice\"},{ingredient:\"GIN\",amount:60},{ingredient:\"LEMON_JUICE\",amount:30},{ingredient:\"GINGER_ALE\",amount:30},{action:\"stir\"}]},{name:\"Pussy popper\",actions:[{action:\"ice\"},{ingredient:\"VODKA\",amount:90},{ingredient:\"TRIPLE_SEC\",amount:60},{ingredient:\"CRANBERRY_JUICE\",amount:60},{ingredient:\"ORANGE_JUICE\",amount:60},{ingredient:\"GRENADINE_SYRUP\",amount:5},{action:\"shake\"}]},{name:\"Brass Monkey\",actions:[{ingredient:\"RUM\",amount:15},{ingredient:\"VODKA\",amount:15},{action:\"stir\"},{ingredient:\"ORANGE_JUICE\",amount:120},{action:\"shake\"}]},{name:\"Legspreader\",actions:[{ingredient:\"TEQUILA\",amount:30},{ingredient:\"VODKA\",amount:30},{ingredient:\"GIN\",amount:30},{ingredient:\"RUM\",amount:30},{action:\"shake\"}]},{name:\"Leap Frog Highball\",actions:[{action:\"ice\"},{ingredient:\"GIN\",amount:60},{ingredient:\"LEMON_JUICE\",amount:45},{ingredient:\"GINGER_ALE\",amount:60},{action:\"stir\"}]},{name:\"Vodka Sour\",actions:[{action:\"ice\"},{ingredient:\"VODKA\",amount:45},{ingredient:\"LEMON_JUICE\",amount:23},{ingredient:\"SIMPLE_SYRUP\",amount:13},{action:\"shake\"}]},{name:\"Orange Buck\",actions:[{action:\"ice\"},{ingredient:\"GIN\",amount:60},{ingredient:\"ORANGE_JUICE\",amount:60},{ingredient:\"LIME_JUICE\",amount:30},{action:\"shake\"},{ingredient:\"GINGER_ALE\",amount:60},{action:\"stir\"}]},{name:\"Liquid Bubble Gum\",actions:[{ingredient:\"VODKA\",amount:60},{ingredient:\"PEACH_TREE\",amount:60},{ingredient:\"COLA\",amount:120},{action:\"stir\"}]},{name:\"Desert Sunrise\",actions:[{action:\"crushed ice\"},{ingredient:\"VODKA\",amount:38},{ingredient:\"ORANGE_JUICE\",amount:45},{ingredient:\"PINEAPPLE_JUICE\",amount:45},{ingredient:\"GRENADINE_SYRUP\",amount:5},{action:\"stir\"}]},{name:\"Absolute Vacation\",actions:[{action:\"ice\"},{ingredient:\"CRANBERRY_JUICE\",amount:30},{ingredient:\"ORANGE_JUICE\",amount:30},{ingredient:\"PINEAPPLE_JUICE\",amount:30},{ingredient:\"VODKA\",amount:30},{action:\"shake\"}]},{name:\"Hawaiian Seduction\",actions:[{action:\"ice\"},{ingredient:\"TEQUILA\",amount:30},{ingredient:\"LIME_JUICE\",amount:180},{ingredient:\"VODKA\",amount:30},{action:\"stir\"}]},{name:\"Hawaiian Sea Breeze\",actions:[{action:\"ice\"},{ingredient:\"VODKA\",amount:45},{ingredient:\"PINEAPPLE_JUICE\",amount:135},{ingredient:\"CRANBERRY_JUICE\",amount:10},{action:\"stir\"}]},{name:\"Asian Cum Shot\",actions:[{action:\"ice\"},{ingredient:\"WATERMELON_VODKA\",amount:90},{ingredient:\"ORANGE_JUICE\",amount:180},{action:\"stir\"}]},{name:\"Island Punch\",actions:[{action:\"ice\"},{ingredient:\"WHITE_RUM\",amount:30},{ingredient:\"GRENADINE_SYRUP\",amount:5},{ingredient:\"ORANGE_JUICE\",amount:120},{ingredient:\"PINEAPPLE_JUICE\",amount:120},{action:\"stir\"}]},{name:\"Jamaican Sunrise\",actions:[{ingredient:\"ORANGE_JUICE\",amount:135},{ingredient:\"VODKA\",amount:60},{ingredient:\"PEACH_TREE\",amount:60},{action:\"shake\"},{ingredient:\"CRANBERRY_JUICE\",amount:30}]},{name:\"Montana Sunrise\",actions:[{action:\"ice\"},{ingredient:\"GRENADINE_SYRUP\",amount:23},{ingredient:\"ORANGE_JUICE\",amount:60},{ingredient:\"VODKA\",amount:120},{action:\"shake\"},{action:\"strain\"}]},{name:\"Pimp Daddy\",actions:[{action:\"ice\"},{ingredient:\"TEQUILA\",amount:60},{ingredient:\"VODKA\",amount:60},{ingredient:\"LEMON_JUICE\",amount:30},{ingredient:\"CRANBERRY_JUICE\",amount:90},{action:\"stir\"}]},{name:\"Adam Cocktail\",actions:[{action:\"ice\"},{ingredient:\"RUM\",amount:60},{ingredient:\"LEMON_JUICE\",amount:30},{ingredient:\"GRENADINE_SYRUP\",amount:30},{action:\"shake\"},{action:\"strain\"}]},{name:\"Long Island Taxi\",actions:[{action:\"ice\"},{ingredient:\"VODKA\",amount:60},{ingredient:\"GIN\",amount:30},{ingredient:\"TEQUILA\",amount:30},{ingredient:\"RUM\",amount:30},{ingredient:\"ORANGE_JUICE\",amount:60},{action:\"shake\"},{action:\"strain\"}]},{name:\"Caribe Cosmopolitan\",actions:[{action:\"ice\"},{ingredient:\"RUM\",amount:45},{ingredient:\"CRANBERRY_JUICE\",amount:30},{ingredient:\"TRIPLE_SEC\",amount:30},{ingredient:\"LIME_JUICE\",amount:15},{action:\"shake\"}]},{name:\"Key West Screwdriver\",actions:[{ingredient:\"VODKA\",amount:60},{ingredient:\"LIME_JUICE\",amount:30},{ingredient:\"ORANGE_JUICE\",amount:150},{action:\"stir\"}]},{name:\"Shark Tank\",actions:[{ingredient:\"LEMONADE\",amount:120},{ingredient:\"VODKA\",amount:120},{ingredient:\"GRENADINE_SYRUP\",amount:60}]},{name:\"A Gilligans Island\",actions:[{ingredient:\"VODKA\",amount:30},{ingredient:\"PEACH_TREE\",amount:30},{ingredient:\"ORANGE_JUICE\",amount:90},{ingredient:\"CRANBERRY_JUICE\",amount:90},{action:\"shake\"}]},{name:\"Baileys White Russian\",actions:[{action:\"ice\"},{ingredient:\"MILK\",amount:120},{ingredient:\"BAILEYS\",amount:60},{ingredient:\"VODKA\",amount:60},{action:\"stir\"}]},{name:\"Blind Bat\",actions:[{ingredient:\"VODKA\",amount:120},{ingredient:\"COLA\",amount:120},{ingredient:\"WHITE_RUM\",amount:10},{action:\"stir\"}]},{name:\"Hot Sex Cocktail\",actions:[{action:\"ice\"},{ingredient:\"TRIPLE_SEC\",amount:75},{ingredient:\"ORANGE_JUICE\",amount:120},{action:\"stir\"},{ingredient:\"GRENADINE_SYRUP\",amount:10}]},{name:\"Bloody Nightmare\",actions:[{action:\"ice\"},{ingredient:\"VODKA\",amount:30},{ingredient:\"LIME_JUICE\",amount:60},{ingredient:\"CRANBERRY_JUICE\",amount:210},{action:\"stir\"}]},{name:\"Snoop Dogg\",actions:[{ingredient:\"GIN\",amount:60},{ingredient:\"ORANGE_JUICE\",amount:90},{action:\"stir\"}]},{name:\"Gin Citric\",actions:[{action:\"ice\"},{ingredient:\"GIN\",amount:60},{ingredient:\"GRENADINE_SYRUP\",amount:5},{ingredient:\"LEMON_JUICE\",amount:30},{ingredient:\"LIME_JUICE\",amount:30},{ingredient:\"ORANGE_JUICE\",amount:60},{action:\"stir\"}]},{name:\"Cat Cocktail\",actions:[{action:\"ice\"},{ingredient:\"VODKA\",amount:45},{ingredient:\"TRIPLE_SEC\",amount:15},{ingredient:\"CRANBERRY_JUICE\",amount:120},{action:\"stir\"}]},{name:\"Hard Dick\",actions:[{ingredient:\"VODKA\",amount:30},{ingredient:\"GIN\",amount:30},{ingredient:\"WHITE_RUM\",amount:30},{action:\"stir\"},{ingredient:\"SPRITE\",amount:90}]},{name:\"Vodka soda\",actions:[{action:\"ice\"},{ingredient:\"VODKA\",amount:60},{ingredient:\"COLA\",amount:240}]},{name:\"Rum and coke\",actions:[{ingredient:\"COLA\",amount:120},{ingredient:\"WHITE_RUM\",amount:50},{ingredient:\"LIME_JUICE\",amount:10}]},{name:\"Long island iced tea\",actions:[{ingredient:\"SIMPLE_SYRUP\",amount:30},{ingredient:\"TEQUILA\",amount:15},{ingredient:\"WHITE_RUM\",amount:15},{ingredient:\"LEMON_JUICE\",amount:30},{ingredient:\"TRIPLE_SEC\",amount:15},{ingredient:\"COLA\",amount:45},{ingredient:\"GIN\",amount:15},{ingredient:\"VODKA\",amount:15}]},{name:\"Daiquiri\",actions:[{ingredient:\"WHITE_RUM\",amount:45},{ingredient:\"LIME_JUICE\",amount:30},{ingredient:\"SIMPLE_SYRUP\",amount:15}]},{name:\"Margarita\",actions:[{ingredient:\"TRIPLE_SEC\",amount:30},{ingredient:\"LIME_JUICE\",amount:30},{ingredient:\"TEQUILA\",amount:60}]},{name:\"Mojito\",actions:[{ingredient:\"WHITE_RUM\",amount:45},{ingredient:\"LIME_JUICE\",amount:30},{action:\"2 thee spoons of sugar\"},{action:\"6 leaves of mind\"},{ingredient:\"LEMON_SODA\",amount:105}]},{name:\"Gin and tonic\",actions:[{ingredient:\"GIN\",amount:30},{ingredient:\"TONIC_WATER\",amount:90}]}],search=document.getElementById(\"search\"),searchEl=search,drinkSelector=document.getElementById(\"drinkSelector\"),drinkSelectorEl=drinkSelector,customizeButton=document.getElementById(\"customizeButton\"),customizeButtonEl=customizeButton,mainMixButton=document.getElementById(\"mainMixButton\"),mainMixButtonEl=mainMixButton,settingsButton=document.getElementById(\"settingsButton\"),createdDrinks=new Map,visibleDrinkEls=new Set,recentDrinks=[];if(localStorage.recentDrinks)try{recentDrinks.push(...JSON.parse(localStorage.recentDrinks))}catch(e){console.error(e)}const intersectionObserver=new IntersectionObserver(e=>{for(const n of e)n.target.classList.toggle(\"selected\",n.isIntersecting),n.isIntersecting?visibleDrinkEls.add(n.target):visibleDrinkEls.delete(n.target)},{threshold:1,root:drinkSelectorEl});function addDrink(e,n=!1){const t=new DrinkDisplay({name:e.name,isCustomDrink:n});drinkSelectorEl.appendChild(t.el),createdDrinks.set(t.el,{config:e,allIngredientsAvailable:!1,drinkDisplay:t,isCustomDrink:n}),intersectionObserver.observe(t.el)}async function initDrinkSelector(){await getConfig(),addDrink({name:\"Custom\",actions:[]},!0);for(const e of drinksConfig)addDrink(e);await updateDrinkIngredients(),drinkSelectorEl.children.length>1&&drinkSelectorEl.children[2].scrollIntoView()}async function updateDrinkIngredients(){const e=await getAvailableIngredients();for(const[n,t]of createdDrinks){const i=[];let o=!0;for(const a of t.config.actions)if(\"ingredient\"in a){const r=e.has(a.ingredient),s=ingredientNames.get(a.ingredient)||a.ingredient;i.push({name:s,available:r}),r||(o=!1)}t.allIngredientsAvailable=o,t.drinkDisplay.available=o,t.drinkDisplay.setIngredients(i)}sortDrinkElements()}function sortDrinkElements(){for(;drinkSelectorEl.firstChild;)drinkSelectorEl.removeChild(drinkSelectorEl.firstChild);const e=Array.from(createdDrinks.values());e.sort((n,t)=>{if(n.isCustomDrink&&!t.isCustomDrink)return-1;if(!n.isCustomDrink&&t.isCustomDrink)return 1;if(n.allIngredientsAvailable&&!t.allIngredientsAvailable)return-1;if(!n.allIngredientsAvailable&&t.allIngredientsAvailable)return 1;const i=recentDrinks.indexOf(n.config.name),o=recentDrinks.indexOf(t.config.name);return i>=0&&o>=0?o-i:i>=0&&o<0?-1:i<0&&o>=0?1:n.config.name.localeCompare(t.config.name)});for(const n of e)drinkSelectorEl.appendChild(n.drinkDisplay.el)}function getSelectedDrink(){const e=drinkSelectorEl.getBoundingClientRect(),n=e.left+e.width/2;let t=null,i=1/0;for(const a of visibleDrinkEls){const r=a.getBoundingClientRect(),s=r.left+r.width/2,d=Math.abs(s-n);d<i&&(i=d,t=a)}if(!t)throw new Error(\"No drink selected\");const o=createdDrinks.get(t);if(!o)throw new Error(\"No config for selected drink\");return o}function setDrinkFilter(e){e=e.toLocaleLowerCase().trim();for(const n of createdDrinks.values()){let t=!0;e&&(t=n.drinkDisplay.name.toLocaleLowerCase().includes(e)),n.drinkDisplay.setVisible(t)}}function markRecentDrink(e){const n=recentDrinks.indexOf(e);n!==-1&&recentDrinks.splice(n,1),recentDrinks.push(e),localStorage.recentDrinks=JSON.stringify(recentDrinks),sortDrinkElements()}const sheet$3=new CSSStyleSheet;sheet$3.replaceSync(':root{--svg-circle-x:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB2aWV3Qm94PSIwIDAgNTAwIDUwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZGVmcz4KICAgIDxtYXNrIGlkPSJ4Ij4KICAgICAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgc3R5bGU9ImZpbGw6IHdoaXRlOyIvPgogICAgICA8cmVjdCB4PSIyMjUiIHk9IjEwMCIgd2lkdGg9IjUwIiBoZWlnaHQ9IjMwMCIgc3R5bGU9ImZpbGw6IGJsYWNrOyIgdHJhbnNmb3JtPSJyb3RhdGUoNDUgMjUwIDI1MCkiLz4KICAgICAgPHJlY3QgeD0iMjI1IiB5PSIxMDAiIHdpZHRoPSI1MCIgaGVpZ2h0PSIzMDAiIHN0eWxlPSJmaWxsOiBibGFjazsiIHRyYW5zZm9ybT0icm90YXRlKC00NSAyNTAgMjUwKSIvPgogICAgPC9tYXNrPgogIDwvZGVmcz4KICA8ZWxsaXBzZSBjeD0iMjUwIiBjeT0iMjUwIiByeD0iMjAwIiByeT0iMjAwIiBzdHlsZT0iZmlsbDogd2hpdGU7IiBtYXNrPSJ1cmwoI3gpIi8+Cjwvc3ZnPgo=);--row-hover-color:#ffffff1a;--default-border-radius:10px}body,html,main{width:100%;height:100%;margin:0}body{background:radial-gradient(circle at 50% 110%,#da5dff 0,#5f007b 40%,#1f0028 70%,#000 100%);color:#fff;font-family:sans-serif}main{display:flex;flex-direction:column;align-items:center}#drinkSelector{display:flex;max-width:400px;width:100%;padding-top:70px;overflow-x:scroll;scroll-snap-type:x mandatory;margin:0 auto}#drinkSelector::-webkit-scrollbar{display:none}@media (max-width:600px){#drinkSelector{margin:0;max-width:100%}}@media (min-width:400px){#drinkSelector{--mask:linear-gradient(to right, transparent 0%, black 25%, black 75%, transparent 100%);-webkit-mask-image:var(--mask);mask-image:var(--mask)}}#drinkSelector::after,#drinkSelector::before{content:\"\";width:100%;height:100%;flex-shrink:0}input[type=number],input[type=search]{appearance:none;border:none;color:#fff;background:#51515157;border-radius:var(--default-border-radius);border-bottom:solid #7b7b7b33 1px;box-shadow:inset 0 9px 9px -6px #00000029}.add-button-icon{-webkit-mask:var(--svg-circle-x);mask:var(--svg-circle-x)}.delete-button,input[type=search]::-webkit-search-cancel-button{opacity:.5;width:30px;height:30px;background:var(--svg-circle-x) center/contain no-repeat;cursor:pointer}.delete-button:hover,input[type=search]::-webkit-search-cancel-button:hover{opacity:.7}.delete-button:active,input[type=search]::-webkit-search-cancel-button:active{opacity:.6}input[type=number]::-webkit-inner-spin-button{appearance:none}#search{font-size:20pt;text-align:center;margin:30px 0;position:absolute;left:50%;transform:translateX(-50%);max-width:calc(100% - 60px);z-index:100}#search:focus-visible{outline:0;background:#63636357;box-shadow:#ffffff1c 0 0 20px}button,input[type=search]::-webkit-search-cancel-button{border:none;appearance:none;-webkit-tap-highlight-color:transparent}.text-button{background:0 0;color:#fff;font-size:14pt;margin:20px;cursor:pointer}.text-button:focus-visible,.text-button:hover{opacity:.8}.text-button:active{opacity:.6}.mix-button{font-size:30pt;color:#fff;padding:5px 40px;background:linear-gradient(#ec15aa,#da0097);margin:0;border-radius:var(--default-border-radius);box-shadow:#e35bd6 0 -1px,#690079 0 5px,#0000005e 0 11px 6px -2px,#00000045 0 21px 20px 4px;cursor:pointer}#mainMixButton{margin-bottom:40px}.mix-button:focus-visible,.mix-button:hover{background:radial-gradient(#ff7bd6,#e316a4);box-shadow:#ff44ba29 0 0 20px 15px,#e35bd6 0 -1px,#8c0082 0 5px,#0000005e 0 11px 6px -2px,#00000045 0 21px 20px 4px}.mix-button:active{background:linear-gradient(#ca1291,#b7027f);box-shadow:#e35bd6 0 -1px,#740059 0 5px,#0000005e 0 11px 6px -2px,#00000045 0 21px 20px 4px}.mix-button:focus-visible,.text-button:focus-visible{outline:rgb(144,77,255) solid 3px}.button-section{display:flex;align-items:center;justify-content:center}dialog{color:#fff;background:radial-gradient(circle at 50% 110%,#6e1788 0,#330042 40%,#0e0013 70%,#000 100%);border:solid 1px;border-color:#30003f #340044 #47065a;border-radius:var(--default-border-radius);box-shadow:#00000087 0 -20px 30px 20px,#00000069 0 -10px 10px 0;width:400px;height:fit-content;max-width:calc(100vw - 60px);max-height:calc(100vh - 60px)}dialog::backdrop{background:rgba(0,0,0,.6)}#settingsButton{background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB2aWV3Qm94PSIwIDAgNTAgNTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgaWQ9InNldHRpbmdzQnRuIj4KICA8ZGVmcz4KICAgIDxtYXNrIGlkPSJtYXNrIj4KICAgICAgPGc+CiAgICAgICAgPHBhdGggZD0iTTEwIDMxLjUgTDIgMjkgTDIgMjEgTDEwIDE4LjUgTDYgMTEgTDExIDYgTDE4LjUgMTAgTDIxIDIgTDI5IDIgTDMxLjUgMTAgTDM5IDYgTDQ0IDExIEw0MCAxOC41IEw0OCAyMSBMNDggMjkgTDQwIDMxLjUgTDQ0IDM5IEwzOSA0NCBMMzEuNSA0MCBMMjkgNDggTDIxIDQ4IEwxOC41IDQwIEwxMSA0NCBMNiAzOSIgZmlsbD0id2hpdGUiLz4KICAgICAgICA8Y2lyY2xlIGN4PSIyNSIgY3k9IjI1IiByPSIxOCIgZmlsbD0id2hpdGUiLz4KICAgICAgICA8Y2lyY2xlIGN4PSIyNSIgY3k9IjI1IiByPSIxMCIgZmlsbD0iYmxhY2siLz4KICAgICAgPC9nPgogICAgPC9tYXNrPgogIDwvZGVmcz4KICA8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgbWFzaz0idXJsKCNtYXNrKSIgc3R5bGU9ImZpbGw6d2hpdGUiLz4KPC9zdmc+Cg==);width:30px;height:30px;position:absolute;margin:20px;right:0;bottom:0;cursor:pointer;opacity:.5}#settingsButton:hover{opacity:.7}#settingsButton:active{opacity:.6}');const sheet$2=new CSSStyleSheet;sheet$2.replaceSync(\".drink-display{scroll-snap-align:center;display:flex;flex-direction:column}.drink-display>.drink-icon-container{width:150px;height:200px;margin:20px 20px;position:relative;filter:url(#svgNeon)}.drink-display>.name{margin:0;text-align:center}.drink-display>.ingredients-list{list-style:none;padding:0;text-align:center}.ingredients-list>li:not(.available){color:rgb(225 165 222);text-decoration:line-through}\");const sheet$1=new CSSStyleSheet;sheet$1.replaceSync(\"#drinkCustomizationTitle{text-align:center}#drinkCustomizationDialog>form{display:flex;flex-direction:column;height:100%}#drinkCustomizationActionsList{padding:0;flex-grow:1}#drinkCustomizationActionsList>li,#drinkCustomizationDialog .add-ingredient{list-style-type:none;display:flex;justify-content:space-between;align-items:center;border-radius:var(--default-border-radius)}#drinkCustomizationActionsList>li:not(.grabbing){transition:transform .3s}#drinkCustomizationActionsList>li.grabbing,#drinkCustomizationActionsList>li:hover,#drinkCustomizationDialog .add-ingredient:hover{background-color:var(--row-hover-color)}#drinkCustomizationActionsList.rearranging>li:not(.grabbing){pointer-events:none}#drinkCustomizationActionsList>li>.grab-handle{min-width:12px;min-height:18px;margin-left:10px;background:radial-gradient(#ffffff80 0,#ffffff80 40%,transparent 60%,transparent 100%);background-size:50% 33%;cursor:grab;touch-action:none}#drinkCustomizationActionsList>li.grabbing,#drinkCustomizationActionsList>li.grabbing>.grab-handle{cursor:grabbing}#drinkCustomizationActionsList>li>.amount-space{width:30px;padding:0 10px;margin:0 10px}#drinkCustomizationActionsList>li>.text{flex-grow:1;font-size:16px}.delete-button{visibility:hidden;border:none;background-size:70%}#drinkCustomizationActionsList>li:hover>.delete-button{visibility:visible}#drinkCustomizationDialog .add-ingredient{width:100%;height:30px;font-size:16px;appearance:none;border:none;padding-left:40px;background:0 0;color:#fff;cursor:pointer}#drinkCustomizationDialog .add-ingredient optgroup,#drinkCustomizationDialog .add-ingredient option{color:#000}.add-button-icon{background:#ff93dd;width:30px;height:30px;position:absolute;transform:rotate(45deg);pointer-events:none}\");const sheet=new CSSStyleSheet;sheet.replaceSync(\"#settingsList{list-style:none;padding:0}#settingsList>li>label{display:flex;justify-content:space-between}#settingsList>li{border-radius:var(--default-border-radius);padding:1px 7px}#settingsList>li:hover{background-color:var(--row-hover-color)}#settingsList input[type=number]{width:70px}\");async function sendMixRequest({name:e,actions:n}){const t=new URL(\"/set\",window.location.href);t.searchParams.set(\"m\",e);for(const[o,a]of n.entries()){const r=o;\"ingredient\"in a?(t.searchParams.set(\"i\"+r,a.ingredient),t.searchParams.set(\"m\"+r,String(a.amount))):t.searchParams.set(\"a\"+r,\"#\"+a.action)}(await fetch(t.href)).ok}class CustomizableIngredient{#e;#i;#n;#t;#o;#s;#a;#r=!1;#d=0;#c=new Set;#l=new Set;#g=new Set;constructor(){this.el=document.createElement(\"li\"),this.#e=document.createElement(\"div\"),this.#e.classList.add(\"grab-handle\"),this.el.appendChild(this.#e),this.#i=!1,this.#n=document.createElement(\"input\"),this.#n.classList.add(\"amount-space\"),this.#n.type=\"number\",this.#n.min=\"0\",this.#n.max=\"1000\",this.el.appendChild(this.#n),this.#t=document.createElement(\"span\"),this.#t.classList.add(\"amount-space\"),this.el.appendChild(this.#t),this.#o=document.createElement(\"span\"),this.#o.classList.add(\"text\"),this.el.appendChild(this.#o),this.#s=new Set,this.#a=document.createElement(\"button\"),this.#a.classList.add(\"delete-button\"),this.#a.type=\"button\",this.#a.ariaLabel=\"Delete ingredient\",this.#a.addEventListener(\"click\",()=>{this.#s.forEach(n=>n())}),this.el.appendChild(this.#a),this.boundPointerDown=this.#m.bind(this),this.boundPointerMove=this.#h.bind(this),this.boundPointerUp=this.#I.bind(this),this.#e.addEventListener(\"pointerdown\",this.boundPointerDown,{passive:!1}),this.#u()}get text(){return this.#o.textContent}set text(n){this.#o.textContent=n}get isAction(){return this.#i}set isAction(n){this.#i=n,this.#u()}#u(){this.#n.style.display=this.#i?\"none\":\"\",this.#t.style.display=this.#i?\"\":\"none\"}get amount(){return Number(this.#n.value)}set amount(n){this.#n.value=String(n)}set disabled(n){this.#n.disabled=n}onDeleteClick(n){this.#s.add(n)}#m(n){if(this.#r)return;let t=!0;for(const i of this.#c)t=t&&i();!t||(n.preventDefault(),this.#r=!0,this.#d=n.clientY,this.el.classList.add(\"grabbing\"),window.addEventListener(\"pointermove\",this.boundPointerMove,{passive:!1}),window.addEventListener(\"pointerup\",this.boundPointerUp,{passive:!1}))}#h(n){!this.#r||(n.preventDefault(),this.el.style.transform=`translateY(${n.clientY-this.#d}px)`,this.#l.forEach(t=>t()))}#I(n){!this.#r||(n.preventDefault(),this.#r=!1,this.el.style.transform=\"\",this.el.classList.remove(\"grabbing\"),window.removeEventListener(\"pointermove\",this.boundPointerMove),window.removeEventListener(\"pointerup\",this.boundPointerUp),this.#g.forEach(t=>t()))}onDragStart(n){this.#c.add(n)}onDragMove(n){this.#l.add(n)}onDragEnd(n){this.#g.add(n)}}const drinkCustomizationDialog$1=document.getElementById(\"drinkCustomizationDialog\"),drinkCustomizationTitle=document.getElementById(\"drinkCustomizationTitle\"),drinkCustomizationActionsList=document.getElementById(\"drinkCustomizationActionsList\"),addIngredientContainerEl=document.getElementById(\"addIngredientContainer\");let currentCustomizableIngredients=[];const addIngredientSelect=document.createElement(\"select\");addIngredientSelect.classList.add(\"add-ingredient\"),addIngredientContainerEl.appendChild(addIngredientSelect);const addIngredientTextOption=document.createElement(\"option\");addIngredientTextOption.textContent=\"Add an ingredient\",addIngredientTextOption.value=\"placeholder\",addIngredientTextOption.disabled=!0,addIngredientTextOption.selected=!0,addIngredientTextOption.style.display=\"none\",addIngredientSelect.appendChild(addIngredientTextOption);const actionsGroup=document.createElement(\"optgroup\");actionsGroup.label=\"Actions\";for(const e of actionNames){const n=document.createElement(\"option\");n.value=e,n.text=e,actionsGroup.appendChild(n)}addIngredientSelect.appendChild(actionsGroup);const ingredientsGroup=document.createElement(\"optgroup\");ingredientsGroup.label=\"Ingredients\";for(const[e,n]of ingredientNames){const t=document.createElement(\"option\");t.value=e,t.text=n,ingredientsGroup.appendChild(t)}addIngredientSelect.appendChild(ingredientsGroup),addIngredientSelect.addEventListener(\"change\",()=>{const e=addIngredientSelect.value,n=addIngredientSelect.value;actionNames.includes(e)?addIngredient({action:e}):ingredientNames.has(n)&&addIngredient({ingredient:n,amount:0}),addIngredientSelect.value=\"placeholder\"});let currentlyDraggingIngredient=null,computedIngredientPositionsBeforeDrag=null;const ingredientHeight=30;function addIngredient(e){const n=new CustomizableIngredient;if(\"action\"in e)n.isAction=!0,n.text=e.action;else{const t=ingredientNames.get(e.ingredient);n.text=t||e.ingredient,n.amount=e.amount}n.onDeleteClick(()=>{drinkCustomizationActionsList.removeChild(n.el);const t=currentCustomizableIngredients.indexOf(n);t>=0&&currentCustomizableIngredients.splice(t,1)}),currentCustomizableIngredients.push(n),n.onDragStart(()=>currentlyDraggingIngredient?!1:(computeIngredientBounds(),currentlyDraggingIngredient=n,drinkCustomizationActionsList.classList.add(\"rearranging\"),!0)),n.onDragMove(()=>{currentlyDraggingIngredient==n&&updateDraggingIngredientTransforms()}),n.onDragEnd(()=>{if(currentlyDraggingIngredient!=n)return;const{sortedIngredientsAfterDrag:t}=getSortedIngredients();for(;drinkCustomizationActionsList.firstChild;)drinkCustomizationActionsList.removeChild(drinkCustomizationActionsList.firstChild);for(const i of t)i.el.style.transform=\"\",drinkCustomizationActionsList.appendChild(i.el);currentCustomizableIngredients=[...t],drinkCustomizationActionsList.classList.remove(\"rearranging\"),currentlyDraggingIngredient=null}),drinkCustomizationActionsList.appendChild(n.el)}function computeIngredientBounds(){if(currentlyDraggingIngredient)throw new Error(\"Assertion failed, an element is already being dragged\");computedIngredientPositionsBeforeDrag=new Map;for(const e of currentCustomizableIngredients){const n=computeIngredientYPos(e);computedIngredientPositionsBeforeDrag.set(e,n)}}function computeIngredientYPos(e){const n=e.el.getBoundingClientRect();return n.top+n.bottom/2}function sortIngredientsByPosition(e){return Array.from(e).sort((n,t)=>n[1]-t[1]).map(n=>n[0])}function getSortedIngredients(){if(!currentlyDraggingIngredient)throw new Error(\"Assertion failed, no element is being dragged\");if(!computedIngredientPositionsBeforeDrag)throw new Error(\"Assertion failed, bounds have not been computed\");const e=sortIngredientsByPosition(computedIngredientPositionsBeforeDrag),n=new Map(computedIngredientPositionsBeforeDrag.entries());let t=computeIngredientYPos(currentlyDraggingIngredient);t+=ingredientHeight/2,n.set(currentlyDraggingIngredient,t);const i=sortIngredientsByPosition(n);return{sortedIngredientsBeforeDrag:e,sortedIngredientsAfterDrag:i}}function updateDraggingIngredientTransforms(){const{sortedIngredientsBeforeDrag:e,sortedIngredientsAfterDrag:n}=getSortedIngredients();for(const t of currentCustomizableIngredients){if(t==currentlyDraggingIngredient)continue;const i=e.indexOf(t),a=n.indexOf(t)-i;t.el.style.transform=`translateY(${a*ingredientHeight}px)`}}function showModal$1({name:e,actions:n}){for(drinkCustomizationTitle.textContent=e;drinkCustomizationActionsList.firstChild;)drinkCustomizationActionsList.removeChild(drinkCustomizationActionsList.firstChild);currentCustomizableIngredients=[];for(const t of n)addIngredient(t);for(const t of currentCustomizableIngredients)t.disabled=!0;addIngredientSelect.disabled=!0,drinkCustomizationDialog$1.showModal();for(const t of currentCustomizableIngredients)t.disabled=!1;addIngredientSelect.disabled=!1}function getCurrentActions(){const e=[];for(const n of currentCustomizableIngredients)n.isAction?e.push({action:n.text}):e.push({ingredient:n.text,amount:n.amount});return e}drinkCustomizationDialog$1.addEventListener(\"close\",()=>{if(drinkCustomizationDialog$1.returnValue==\"mix\"){const e=getCurrentActions();sendMixRequest({name:drinkCustomizationTitle.textContent||\"Drink\",actions:e})}});const drinkCustomizationDialog=document.getElementById(\"settingsDialog\"),settingsListEl=document.getElementById(\"settingsList\");function showModal(){drinkCustomizationDialog.showModal(),initSettingsList()}let initSettingsListCalled=!1;async function initSettingsList(){if(initSettingsListCalled)return;initSettingsListCalled=!0;const e=await getConfig();for(const[n,t]of Object.entries(e.settings)){const i=document.createElement(\"li\");settingsListEl.appendChild(i);const o=document.createElement(\"label\");i.appendChild(o);const a=document.createElement(\"span\");a.textContent=n,o.appendChild(a);const r=document.createElement(\"input\");o.appendChild(r);const s=typeof t==\"boolean\";s?(r.type=\"checkbox\",r.checked=t):(r.type=\"number\",r.value=String(t)),r.addEventListener(\"change\",async()=>{let d;s?d=String(r.checked):d=r.value,sendChangeSetting(n,d)})}}async function sendChangeSetting(e,n){const t=new URL(\"/set\",window.location.href);t.searchParams.set(e,n),(await fetch(t)).ok}globalThis.false=!0,document.adoptedStyleSheets=[sheet$3,sheet$2,sheet$1,sheet],mainMixButtonEl.addEventListener(\"click\",()=>{const n=getSelectedDrink().config;markRecentDrink(n.name),sendMixRequest({name:n.name,actions:n.actions})}),customizeButtonEl.addEventListener(\"click\",()=>{const e=getSelectedDrink();showModal$1(e.config)}),settingsButton.addEventListener(\"click\",()=>{showModal()}),initDrinkSelector(),searchEl.addEventListener(\"input\",()=>{setDrinkFilter(searchEl.value)});</script><!--inline main.js inject position-->	</body></html>";
